{% extends "base.html" %}

{% block title %}Join Room - Ride the Bus{% endblock %}

{% block content %}
<div class="max-w-md mx-auto">
    <div class="bg-green-800 rounded-lg shadow-lg p-8">
        <h2 class="text-2xl font-bold text-center mb-6">Join Game Room</h2>
        
        {% if error %}
        <div class="bg-red-600 border border-red-500 rounded p-3 mb-4">
            <p class="text-sm">{{ error }}</p>
        </div>
        {% endif %}
        
        <form method="POST" class="space-y-4">
            <div>
                <label for="room_code" class="block text-sm font-medium mb-2">Room Code</label>
                <input 
                    type="text" 
                    id="room_code" 
                    name="room_code" 
                    class="w-full px-3 py-2 bg-green-700 border border-green-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-white placeholder-green-300"
                    placeholder="Enter 8-character room code"
                    maxlength="8"
                    pattern="[A-Za-z0-9]{8}"
                    required
                    autocomplete="off"
                >
                <p class="text-xs text-green-300 mt-1">Example: ABC12345</p>
            </div>
            
            <button 
                type="submit"
                class="w-full bg-yellow-500 text-black py-3 rounded-lg font-semibold hover:bg-yellow-400 transition focus:outline-none focus:ring-2 focus:ring-yellow-500"
            >
                Join Room
            </button>
        </form>
        
        <div class="text-center mt-6">
            <a href="{{ url_for('landing') }}" class="text-green-300 hover:text-green-200 text-sm">
                ‚Üê Back to Home
            </a>
        </div>
        
        <div class="text-center mt-4">
            <p class="text-sm text-green-300">Don't have a room code?</p>
            <a href="{{ url_for('create_room') }}" class="text-yellow-400 hover:text-yellow-300 text-sm font-medium">
                Create a new room instead
            </a>
        </div>
    </div>
</div>

<script>
    // Auto-uppercase and format room code input
    document.getElementById('room_code').addEventListener('input', function(e) {
        e.target.value = e.target.value.toUpperCase();
    });
    
    // Auto-focus room code input
    document.getElementById('room_code').focus();
</script>
{% endblock %}